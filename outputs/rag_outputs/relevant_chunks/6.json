{
  "query": "Add a new HTTP server to the current implementation.",
  "relevant_chunks": [
    {
      "score": 0.617529929,
      "payload": {
        "content": "service /admin on new http:Listener(servicePort) {",
        "type": "service",
        "name": null,
        "file": "main.bal",
        "line": 212,
        "endLine": 212,
        "position": {
          "start": {
            "line": 0,
            "column": 0
          },
          "end": {
            "line": 0,
            "column": 0
          }
        },
        "id": "ballerina:main:service:admin:new http:Listener(servicePort)",
        "hash": "9f17624e6fcd01ff",
        "moduleName": "ballerina"
      }
    },
    {
      "score": 0.599764824,
      "payload": {
        "content": "configurable int servicePort = 8080;",
        "type": "configurable_variable",
        "name": null,
        "file": "main.bal",
        "line": 6,
        "endLine": 6,
        "position": {
          "start": {
            "line": 0,
            "column": 0
          },
          "end": {
            "line": 0,
            "column": 0
          }
        },
        "id": "ballerina:main:configurable:servicePort",
        "hash": "8cc1abbe7a89be75",
        "moduleName": "ballerina"
      }
    },
    {
      "score": 0.594621658,
      "payload": {
        "content": "service /bookstore on new http:Listener(servicePort) {",
        "type": "service",
        "name": null,
        "file": "main.bal",
        "line": 52,
        "endLine": 52,
        "position": {
          "start": {
            "line": 0,
            "column": 0
          },
          "end": {
            "line": 0,
            "column": 0
          }
        },
        "id": "ballerina:main:service:bookstore:new http:Listener(servicePort)",
        "hash": "4184e896f87fcb34",
        "moduleName": "ballerina"
      }
    },
    {
      "score": 0.562513351,
      "payload": {
        "content": "import ballerina/http;",
        "type": "import",
        "name": null,
        "file": "main.bal",
        "line": 1,
        "endLine": 1,
        "position": {
          "start": {
            "line": 0,
            "column": 0
          },
          "end": {
            "line": 0,
            "column": 0
          }
        },
        "id": "ballerina:main:import:1",
        "hash": "da27790f80119e6c",
        "moduleName": "ballerina"
      }
    },
    {
      "score": 0.490394592,
      "payload": {
        "content": "resource function post books(@http:Payload BookRequest bookRequest) returns http:Created|http:BadRequest|http:InternalServerError {\ntotalRequests += 1;\n\n        Book|error validatedBook = validateAndFormatBook(bookRequest);\n        if validatedBook is error {\n            return http:BAD_REQUEST;\n        }\n\n        bookStore[validatedBook.id] = validatedBook;\n        return http:CREATED;\n}",
        "type": "resource",
        "name": null,
        "file": "main.bal",
        "line": 55,
        "endLine": 59,
        "position": {
          "start": {
            "line": 0,
            "column": 0
          },
          "end": {
            "line": 0,
            "column": 0
          }
        },
        "id": "ballerina:main:service:bookstore:post:books",
        "hash": "aa4778bbe0607ed2",
        "moduleName": "ballerina"
      }
    },
    {
      "score": 0.484254837,
      "payload": {
        "content": "resource function post categories(@http:Payload BookCategory category) returns http:Created|http:BadRequest {\ntotalRequests += 1;\n\n        if category.categoryName.trim().length() == 0 {\n            return http:BAD_REQUEST;\n        }\n\n        bookCategories[category.categoryId] = category;\n        return http:CREATED;\n}",
        "type": "resource",
        "name": null,
        "file": "main.bal",
        "line": 19,
        "endLine": 21,
        "position": {
          "start": {
            "line": 0,
            "column": 0
          },
          "end": {
            "line": 0,
            "column": 0
          }
        },
        "id": "ballerina:main:service:admin:post:categories",
        "hash": "f6594607daa7b60e",
        "moduleName": "ballerina"
      }
    },
    {
      "score": 0.474000931,
      "payload": {
        "content": "configurable string serviceName = \"Bookstore API\";",
        "type": "configurable_variable",
        "name": null,
        "file": "main.bal",
        "line": 7,
        "endLine": 7,
        "position": {
          "start": {
            "line": 0,
            "column": 0
          },
          "end": {
            "line": 0,
            "column": 0
          }
        },
        "id": "ballerina:main:configurable:serviceName",
        "hash": "634624db73eecbab",
        "moduleName": "ballerina"
      }
    },
    {
      "score": 0.472729683,
      "payload": {
        "content": "int totalRequests = 0;",
        "type": "module_variable",
        "name": null,
        "file": "main.bal",
        "line": 12,
        "endLine": 12,
        "position": {
          "start": {
            "line": 0,
            "column": 0
          },
          "end": {
            "line": 0,
            "column": 0
          }
        },
        "id": "ballerina:main:variable:int",
        "hash": "ab3310bc3938feca",
        "moduleName": "ballerina"
      }
    }
  ]
}