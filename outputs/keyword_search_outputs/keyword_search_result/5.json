[
  {
    "id": "9bb53b6dfe6fd8f6",
    "content": "resource function post books(@http:Payload BookRequest bookRequest) returns http:Created|http:BadRequest|http:InternalServerError {\n        totalRequests += 1;\n\n        Book|error validatedBook = validateAndFormatBook(bookRequest);\n        if validatedBook is error {\n            return http:BAD_REQUEST;\n        }\n\n        bookStore[validatedBook.id] = validatedBook;\n        return http:CREATED;\n    }",
    "score": 12.819948795268322
  },
  {
    "id": "b71ed9d1cfeac8c4",
    "content": "Book|error validatedBook = validateAndFormatBook(bookRequest);",
    "score": 12.372161780126346
  },
  {
    "id": "6b2159a447de8988",
    "content": "function validateAndFormatBook(BookRequest bookRequest) returns Book|error {\n    if bookRequest.title.trim().length() == 0 {\n        return error(\"Book title cannot be empty\");\n    }\n\n    if bookRequest.author.trim().length() == 0 {\n        return error(\"Book author cannot be empty\");\n    }\n\n    if bookRequest.price < 0.0d {\n        return error(\"Book price cannot be negative\");\n    }\n\n    if bookRequest.quantity < 0 {\n        return error(\"Book quantity cannot be negative\");\n    }\n\n    string bookId = uuid:createType1AsString();\n\n    Book validatedBook = {\n        id: bookId,\n        title: bookRequest.title.trim(),\n        author: bookRequest.author.trim(),\n        isbn: bookRequest.isbn.trim(),\n        price: bookRequest.price,\n        quantity: bookRequest.quantity\n    };\n\n    return validatedBook;\n}",
    "score": 11.035684548496075
  },
  {
    "id": "8a6ed9c6bc9b8dbb",
    "content": "resource function get health() returns map<string> {\n        totalRequests += 1;\n        return {\"status\": \"UP\", \"service\": serviceName};\n    }",
    "score": 5.144107388981536
  },
  {
    "id": "d5a7e3df8b825d89",
    "content": "resource function post categories(@http:Payload BookCategory category) returns http:Created|http:BadRequest {\n        totalRequests += 1;\n\n        if category.categoryName.trim().length() == 0 {\n            return http:BAD_REQUEST;\n        }\n\n        bookCategories[category.categoryId] = category;\n        return http:CREATED;\n    }",
    "score": 4.848994770395172
  }
]