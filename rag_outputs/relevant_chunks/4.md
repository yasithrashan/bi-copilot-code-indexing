# User Query 4

**Query:** Extend the category service to also support update and delete operations for categories.

## Relevant Chunks

### Chunk 1
```ballerina
resource function post categories(@http:Payload BookCategory category) returns http:Created|http:BadRequest {
totalRequests += 1;

        if category.categoryName.trim().length() == 0 {
            return http:BAD_REQUEST;
        }

        bookCategories[category.categoryId] = category;
        return http:CREATED;
}
```

### Chunk 2
```ballerina
resource function get categories() returns BookCategory[] {
totalRequests += 1;
        return bookCategories.toArray();
}
```

### Chunk 3
```ballerina
map<BookCategory> bookCategories = {};
```

### Chunk 4
```ballerina
type
public type BookCategory record {|
    string categoryId;
    string categoryName;
    string description;
|};
```

### Chunk 5
```ballerina
configurable string serviceName = "Bookstore API";
```

### Chunk 6
```ballerina
configurable int servicePort = 8080;
```

### Chunk 7
```ballerina
service /bookstore on new http:Listener(servicePort) {
```

### Chunk 8
```ballerina
Book updatedBook = {
            id: bookId,
            title: bookRequest.title,
            author: bookRequest.author,
            isbn: bookRequest.isbn,
            price: bookRequest.price,
            quantity: bookRequest.quantity
        };
```

