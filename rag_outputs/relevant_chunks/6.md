# User Query 6

**Query:** Add a new HTTP server to the current implementation.

## Relevant Chunks

### Chunk 1
```ballerina
service /admin on new http:Listener(servicePort) {
```

### Chunk 2
```ballerina
configurable int servicePort = 8080;
```

### Chunk 3
```ballerina
service /bookstore on new http:Listener(servicePort) {
```

### Chunk 4
```ballerina
import ballerina/http;
```

### Chunk 5
```ballerina
resource function post books(@http:Payload BookRequest bookRequest) returns http:Created|http:BadRequest|http:InternalServerError {
totalRequests += 1;

        Book|error validatedBook = validateAndFormatBook(bookRequest);
        if validatedBook is error {
            return http:BAD_REQUEST;
        }

        bookStore[validatedBook.id] = validatedBook;
        return http:CREATED;
}
```

### Chunk 6
```ballerina
resource function post categories(@http:Payload BookCategory category) returns http:Created|http:BadRequest {
totalRequests += 1;

        if category.categoryName.trim().length() == 0 {
            return http:BAD_REQUEST;
        }

        bookCategories[category.categoryId] = category;
        return http:CREATED;
}
```

### Chunk 7
```ballerina
configurable string serviceName = "Bookstore API";
```

### Chunk 8
```ballerina
int totalRequests = 0;
```

