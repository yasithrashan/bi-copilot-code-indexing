# Code Extract Report

**Query ID:** 4
**Search criteria:** Category-related code segments to identify areas for adding update and delete operations
**Files processed:** 2

---

### File: types.bal
```ballerina
// Book category type
public type BookCategory record {|
    string categoryId;
    string categoryName;
    string description;
|};
```

### File: main.bal
```ballerina
// Module variables
map<BookCategory> bookCategories = {};

// Admin service with existing category endpoints
service /admin on new http:Listener(servicePort) {
    // Add book category
    resource function post categories(@http:Payload BookCategory category) returns http:Created|http:BadRequest {
        totalRequests += 1;

        if category.categoryName.trim().length() == 0 {
            return http:BAD_REQUEST;
        }

        bookCategories[category.categoryId] = category;
        return http:CREATED;
    }

    // Get all categories
    resource function get categories() returns BookCategory[] {
        totalRequests += 1;
        return bookCategories.toArray();
    }
}
```